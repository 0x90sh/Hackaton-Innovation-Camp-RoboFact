<!DOCTYPE html>
<html lang="en">

<head>
    <title>MockBot</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        #loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #243B55, #141E30);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2em;
            transition: opacity 0.6s ease-out;
            z-index: 1000;
        }

        #loading-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            border: 8px solid rgba(255, 255, 255, 0.2);
            border-top: 8px solid #00aaff;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            animation: spin 1.2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        #loading-message {
            margin-top: 20px;
            font-size: 1.2em;
        }

        /* --- Draggable Overlay Panel --- */
        #uiPanel {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 220px;
            background: rgba(255, 255, 255, 0.85);
            padding: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
            cursor: default;
        }

        /* Ein extra "Kopfbereich", an dem gezogen werden kann */
        #uiPanelHeader {
            cursor: move;
            font-weight: bold;
            margin-bottom: 8px;
            padding: 4px;
            background: #0970B6;
            color: #fff;
            border-radius: 4px;
            text-align: center;
        }

        #uiPanel label {
            display: inline-block;
            width: 60px;
            margin-right: 5px;
        }

        #uiPanel input[type=range] {
            width: 130px;
        }

        #uiPanel select {
            width: 140px;
        }

        /* --- Info Overlay --- */
        #info {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
            font-size: 0.9em;
        }

        /* --- Canvas --- */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
    </style>
</head>

<body>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader"></div>
        <div id="loading-message">Loading assets...</div>
    </div>

    <!-- Draggable Panel -->
    <div id="uiPanel">
        <div id="uiPanelHeader">Settings</div>
        <div>
            <label for="roomWidth">Width:</label>
            <input id="roomWidth" type="range" min="200" max="2000" step="50" value="1000" />
            <span id="widthValue">1000</span>
        </div>
        <div>
            <label for="roomDepth">Depth:</label>
            <input id="roomDepth" type="range" min="200" max="2000" step="50" value="1000" />
            <span id="depthValue">1000</span>
        </div>
        <div>
            <label for="roomHeight">Height:</label>
            <input id="roomHeight" type="range" min="50" max="2000" step="50" value="400" />
            <span id="heightValue">400</span>
        </div>
        <div>
            <label for="modelSelect">Model:</label>
            <select id="modelSelect">
                <option value="arm">Arm</option>
            </select>
        </div>
        <div>
            <button id="exportButton">Exportieren</button>
            <button id="importButton">Importieren</button>
        </div>
    </div>

    <!-- Info Panel -->
    <div id="info">
        <strong>Ctrl + Click</strong>: Add object<br>
        <strong>Shift + Click</strong>: Remove object<br>
        <strong>Alt + Click</strong>: Select Object<br>
        <strong>g / r / s</strong>: Translate / Rotate / Scale
    </div>

    <canvas></canvas>

    <!-- Script: Bundle + Drag Handling -->
    <script src="bundle.js"></script>
    <script>
        // Beispiel: Fade-out-Effekt fÃ¼r den Loading-Screen simulieren
        window.addEventListener('load', function () {
            setTimeout(() => {
                document.getElementById('loading-screen').classList.add('fade-out');
            }, 1000);
        });

        // Draggable logic for uiPanel
        (function () {
            const panel = document.getElementById("uiPanel");
            const header = document.getElementById("uiPanelHeader");

            let offsetX = 0, offsetY = 0;
            let isDragging = false;

            header.addEventListener('mousedown', (e) => {
                isDragging = true;
                // Position Differenz speichern
                offsetX = e.clientX - panel.offsetLeft;
                offsetY = e.clientY - panel.offsetTop;
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                // Panel an neue Mausposition verschieben
                panel.style.left = (e.clientX - offsetX) + "px";
                panel.style.top = (e.clientY - offsetY) + "px";
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        })();

        // Beispiel: Range-Value-Update
        const roomWidth = document.getElementById('roomWidth');
        const roomDepth = document.getElementById('roomDepth');
        const roomHeight = document.getElementById('roomHeight');
        const widthValue = document.getElementById('widthValue');
        const depthValue = document.getElementById('depthValue');
        const heightValue = document.getElementById('heightValue');

        roomWidth.addEventListener('input', () => {
            widthValue.textContent = roomWidth.value;
        });
        roomDepth.addEventListener('input', () => {
            depthValue.textContent = roomDepth.value;
        });
        roomHeight.addEventListener('input', () => {
            heightValue.textContent = roomHeight.value;
        });
    </script>

</body>

</html>